<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Send a Surprise Gift üéÅ</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #ffc1cc, #ffeff5);
    margin: 0;
    padding: 0;
    text-align: center;
  }
  h1 { margin-top: 20px; color: #d90429; }
  p { color: #720026; }
  .cards { display: flex; overflow-x: auto; padding: 20px; gap: 15px; }
  .card {
    flex: 0 0 150px;
    background: #fff;
    border-radius: 15px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    cursor: pointer;
    padding: 20px;
    transition: transform 0.2s, box-shadow 0.2s;
  }
  .card:hover { transform: scale(1.05); box-shadow: 0 6px 15px rgba(0,0,0,0.2); }
  .selected { border: 2px solid #d90429; box-shadow: 0 0 20px #d90429; }
  input, textarea, button {
    margin: 10px 0;
    padding: 10px;
    width: 90%;
    max-width: 300px;
    border-radius: 8px;
    border: 1px solid #ccc;
  }
  button:disabled { background: #ccc; cursor: not-allowed; }
  button { background: #d90429; color: #fff; border: none; transition: 0.2s; }
  button:hover:not(:disabled) { background: #720026; }
</style>
</head>
<body>

<h1>Choose a Gift to Send ‚ù§Ô∏è</h1>
<p>Surprise your special one with a mystery gift</p>

<div class="cards" id="cards"></div>

<input type="text" id="receiverName" placeholder="Receiver Name" disabled>
<input type="text" id="senderName" placeholder="Your Name" disabled>
<textarea id="message" placeholder="Optional message (max 150 chars)" maxlength="150" disabled></textarea>
<br>
<button id="generateBtn" disabled>Generate Surprise Link üéÅ</button>
<br><br>
<input type="text" id="generatedLink" readonly style="width:90%; max-width:300px;">

<script>
const gifts = [
  {name:"Amazon", color:"#FF9900"},
  {name:"Flipkart", color:"#2874F0"},
  {name:"Swiggy", color:"#FC8019"},
  {name:"Zomato", color:"#FF4C4C"}
];

let selectedGift = null;

const cardsDiv = document.getElementById('cards');
gifts.forEach(g => {
  const card = document.createElement('div');
  card.className = 'card';
  card.style.background = g.color;
  card.innerHTML = <b>${g.name}</b>;
  card.onclick = () => {
    selectedGift = g.name;
    document.querySelectorAll('.card').forEach(c => c.classList.remove('selected'));
    card.classList.add('selected');

    // Enable form fields
    document.getElementById('receiverName').disabled = false;
    document.getElementById('senderName').disabled = false;
    document.getElementById('message').disabled = false;
    checkGenerateBtn();
  };
  cardsDiv.appendChild(card);
});

function checkGenerateBtn() {
  const receiver = document.getElementById('receiverName').value.trim();
  const sender = document.getElementById('senderName').value.trim();
  document.getElementById('generateBtn').disabled = !(selectedGift && receiver && sender);
}

document.getElementById('receiverName').addEventListener('input', checkGenerateBtn);
document.getElementById('senderName').addEventListener('input', checkGenerateBtn);

document.getElementById('generateBtn').onclick = () => {
  const receiver = document.getElementById('receiverName').value.trim();
  const sender = document.getElementById('senderName').value.trim();
  const message = document.getElementById('message').value.trim();
  const code = Math.random().toString(36).substring(2,8);

  // Save in localStorage
  localStorage.setItem("gift_"+code, JSON.stringify({gift:selectedGift, receiver, sender, message, code}));

  // Generate link for receiver
  const link = ${window.location.origin}/receiver.html?id=${code};
  document.getElementById('generatedLink').value = link;
  document.getElementById('generatedLink').select();
  document.execCommand("copy");
  alert("Link copied! Share it with your receiver ‚ù§Ô∏è");
};
</script>

</body>
</html>
